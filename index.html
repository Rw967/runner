<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>ULTRA RUNNER - Infinite Launch</title>
    <style>
        :root { --primary: #3b82f6; --accent: #ec4899; --bg: #020617; --danger: #ef4444; }
        body { margin: 0; overflow: hidden; background: var(--bg); font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; color: white; cursor: wait; }
        #bg-canvas { position: fixed; inset: 0; z-index: -1; }
        
        /* Das Menü fliegt nach oben weg */
        #main-container { text-align: center; z-index: 100; transition: transform 4s cubic-bezier(0.6, 0, 0.4, 1), opacity 2s; }
        .launch-active { transform: translateY(-150vh); opacity: 0; }

        .loader-ring { 
            width: 120px; height: 120px; border: 4px solid rgba(255, 255, 255, 0.05); 
            border-top: 4px solid var(--accent); border-bottom: 4px solid var(--primary); 
            border-radius: 50%; margin: 0 auto 30px; animation: spin 1.2s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        h1 { font-size: 42px; margin: 0; letter-spacing: 10px; text-transform: uppercase; background: linear-gradient(90deg, #fff, var(--primary), #fff); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: shine 3s linear infinite; }
        @keyframes shine { to { background-position: 200% center; } }

        #timer { margin-top: 25px; font-size: 28px; letter-spacing: 5px; font-weight: 300; }
        
        /* Die unendliche Nachricht */
        #launch-msg { 
            position: fixed; top: 50%; width: 100%; text-align: center; 
            font-size: 22px; letter-spacing: 10px; opacity: 0; 
            transition: opacity 3s; pointer-events: none; 
            text-transform: uppercase; font-weight: 900; 
            color: var(--primary); text-shadow: 0 0 20px var(--primary);
            animation: pulse 2s infinite alternate ease-in-out;
        }
        @keyframes pulse { from { transform: scale(1); opacity: 0.8; } to { transform: scale(1.05); opacity: 1; } }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>
    
    <div id="main-container">
        <div class="loader-ring"></div>
        <h1 id="status-title">Update is coming</h1>
        <div id="timer">00h 00m 00s</div>
        <div style="margin-top: 40px; font-size: 11px; opacity: 0.3; letter-spacing: 3px;">INITIALIZING FINAL VERSION</div>
    </div>

    <div id="launch-msg">Update is Loading...</div>

    <script>
        let starSpeed = 0.45;
        let isLaunching = false;
        let hyperspaceMode = false;

        // Admin Test: Alt + M
        window.addEventListener('keydown', e => {
            if (e.altKey && e.key.toLowerCase() === 'm') triggerLaunch();
        });

        function triggerLaunch() {
            if(isLaunching) return;
            isLaunching = true;
            
            // UI wegschicken
            document.getElementById('main-container').classList.add('launch-active');
            
            // Launch Nachricht erscheint und bleibt unendlich
            setTimeout(() => {
                document.getElementById('launch-msg').style.opacity = "1";
            }, 2500);

            // Hyperspeed zünden
            starSpeed = 25;
            setTimeout(() => {
                hyperspaceMode = true; // Ab hier unendliche Game-Objekte
            }, 1800);

            // HINWEIS: location.reload() wurde entfernt! 
            // Der User bleibt jetzt unendlich in dieser Animation.
        }

        function updateTimer() {
            if(isLaunching) return;
            const target = new Date();
            target.setHours(23, 12, 0, 0); // ZIELZEIT
            const diff = target - new Date();
            
            if (diff <= 0) {
                triggerLaunch();
                return;
            }

            const h = Math.floor(diff/3600000).toString().padStart(2,'0');
            const m = Math.floor((diff%3600000)/60000).toString().padStart(2,'0');
            const s = Math.floor((diff%60000)/1000).toString().padStart(2,'0');
            document.getElementById('timer').innerText = `${h}h ${m}m ${s}s`;
        }
        setInterval(updateTimer, 1000);
        updateTimer();

        // CANVAS ENGINE
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function init() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            particles = [];
            for(let i=0; i<90; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    s: Math.random() * 2 + 1,
                    type: Math.random() > 0.65 ? 'wall' : 'cube'
                });
            }
        }

        function draw() {
            ctx.fillStyle = "#020617";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles.forEach(p => {
                p.y += p.s * starSpeed;
                if(p.y > canvas.height) {
                    p.y = -100;
                    p.x = Math.random() * canvas.width;
                }

                if(hyperspaceMode) {
                    // UNENDLICHER FLOW
                    if(p.type === 'cube') {
                        ctx.fillStyle = "#3b82f6";
                        ctx.shadowBlur = 15;
                        ctx.shadowColor = "#3b82f6";
                        ctx.fillRect(p.x, p.y, 14, 14);
                        ctx.strokeStyle = "white";
                        ctx.strokeRect(p.x, p.y, 14, 14);
                    } else {
                        ctx.fillStyle = "#ef4444";
                        ctx.shadowBlur = 15;
                        ctx.shadowColor = "#ef4444";
                        ctx.fillRect(p.x, p.y, 6, 45);
                    }
                    ctx.shadowBlur = 0;
                } else if(isLaunching) {
                    ctx.fillStyle = "white";
                    ctx.fillRect(p.x, p.y, 1, p.s * 30);
                } else {
                    ctx.fillStyle = "white";
                    ctx.fillRect(p.x, p.y, p.s, p.s);
                }
            });
            requestAnimationFrame(draw);
        }
        window.onresize = init; init(); draw();
    </script>
</body>
</html>
